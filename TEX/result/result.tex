










\subsection{Earth-Sun system}








\subsubsection{Stability}

\begin{figure}[H]
    \centering
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/earth-sun.pdf}
    	\caption{}
    \end{subfigure}%
    ~ 
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/earth-sun-error.pdf}
        \caption{}
    \end{subfigure}
    \caption{a) show the orbit of earth around the sound. The intial velocity is set to $2\pi$ in y direction and the start position to 1 au in x direction. b) shows how the error behaves. The intial values should give a perfect circular motion. So the error is calculated by $r_i - r_{0}$. It is clear that Verlet-Velocity method is superior. This simulation was with 1000 points with the end time of 1 year. Both simulations was produced by \href{https://github.com/erikfsk/Project-3/blob/master/Project3/3a/plot_earth_sun.py}{\textcolor{blue}{plot\_earth\_sun.py}}}
    \label{fig:earth-sun}
\end{figure}


\begin{center}
\label{table:euler-verlet-time}
\captionof{table}{Time table for the different algorithms. The algorithms use nearly the same time. This is not a shocker since the number of FLOPs for the algorithms are similar. Time grows very linear as expected from section \ref{flops}. Disclaimer: this is only the result from one test, but several was done. Both algorithms were very close and it seem to be random which is fastest.
\\}
\begin{tabular}{|c|c|c|c|c|c|}
    \hline 
    n & Forward-Euler & Verlet-Velocity &  fastest & $\frac{slowest}{fastest}$\\ 
    \hline
    10 & 0.000136 & 0.000148 & Euler &   1.08823529412   \\ 
    \hline 
    100 & 0.000208 & 0.000179 & Verlet &   1.16201117318   \\ 
    \hline 
    1000 & 0.000392 & 0.000389 & Verlet &  1.00771208226   \\ 
    \hline
    10000 & 0.002427 & 0.002426 & Verlet &   1.00041220115  \\ 
    \hline
    100000 & 0.022931 & 0.022293 & Verlet &   1.02861884897   \\ 
    \hline
    1000000 & 0.167022 & 0.175944 & Euler &   1.05341811258  \\ 
    \hline
    10000000 & 1.58721 & 1.52666 & Verlet &   1.03966174525  \\ 
    \hline
    100000000 & 15.1786 & 15.1176 & Verlet &   1.00403503202  \\ 
    \hline
\end{tabular}
\end{center}














\subsubsection{Conserved quantities}

All the figures in this section was made from the data and python script in the directory \href{https://github.com/erikfsk/Project-3/tree/master/Project3/conserved-values}{\textcolor{blue}{conserved-values}}.

\begin{figure}[H]
    \centering
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/kin-pot-euler.pdf}
    	\caption{}
    \end{subfigure}%
    ~ 
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/kin-pot-verlet.pdf}
        \caption{}
    \end{subfigure}
    \caption{Both are figures are graphs of the kinetic energy and potential energy and how it differ from they intial value. a) is the Forward Euler method and b) is the Verlet-Velocity method. As expected the energies are not conserved in the Forward Euler method, but is conserved in the Verlet-Velocity.}
    \label{fig:conserved-energy}
\end{figure}





\begin{figure}[H]
    \centering
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/momentum-euler.pdf}
    	\caption{}
    \end{subfigure}%
    ~ 
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/momentum-verlet.pdf}
        \caption{}
    \end{subfigure}
    \caption{Both are figures are graphs of the momentum and how it differ from they intial value. a) is the Forward Euler method and b) is the Verlet-Velocity method. It should come as no suprise that momentum is not conserved for the Forward Euler method as the kinetic energy was not conserved, as the mass is a constant. Once again the Verlet-velocity method conserve the quantity. 
    }
    \label{fig:conserved-momentum}
\end{figure}





\begin{figure}[H]
    \centering
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/ang-momentum-euler.pdf}
        \caption{}
    \end{subfigure}%
    ~ 
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/ang-momentum-verlet.pdf}
        \caption{}
    \end{subfigure}
    \caption{Both are figures are graphs of the angular momentum and how it differ from they intial value. a) is the Forward Euler method and b) is the Verlet-Velocity method. Forward Euler is once again not capable of conserving the value, but luckily for us the Verlet-Velocity method is. 
    }
    \label{fig:conserved-ang}
\end{figure}















\subsubsection{Escape velocity}

The assignment was to find the escape velocity for the earth by trial and error. Fortunate for us that we know some math and can calculate it. See section \ref{sec:escape-velocity} for this. But we started guessing \"randomly\" (winking Face emoji). Figure (\ref{fig:escape-velocity-low}) a) shows these guesses. Where we can see that the velocities around 8.8 au/year shots out and never returns. 
The algorithms only runs for 15 years and will thereby not see the 8.8 au/year return to orbit even tho it should. The plots were made by the data and python scripts in the directory \href{https://github.com/erikfsk/Project-3/tree/master/Project3/escape-velocity}{\textcolor{blue}{escape-velocity}}.

\begin{figure}[H]
    \centering
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/escape-velocity.pdf}
    	\caption{}
    \end{subfigure}%
    ~ 
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/escape-velocity-r25.pdf}
        \caption{}
    \end{subfigure}
    \caption{a) Show how the orbits of earths with different initial velocity are. b) Shows the same as a) but this time the dependency of r in the denominator in equation (\ref{eq:newton}) is set to 3.5.}
    \label{fig:escape-velocity-low}
\end{figure}



\begin{figure}[H]
    \centering
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/escape-velocity-r275.pdf}
    	\caption{}
    \end{subfigure}%
    ~ 
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/escape-velocity-r3.pdf}
        \caption{}
    \end{subfigure}
    \caption{a) Shows the same as figure (\ref{fig:escape-velocity-low}) but this time the dependency of r in the denominator in equation (\ref{eq:newton}) is set to 3.75. b) Shows the same as a) but this time the dependency of r in the denominator in equation (\ref{eq:newton}) is set to 4. }
    \label{fig:escape-velocity-high}
\end{figure}


Personally I feel extremly lucky for living in a universe with a r dependency of 2, but then again i probably would not exist if the dependency was different. All the other dependencies are very unstable for even the slightest change in velocity from a perfect circle.


















\subsection{Three body system}

All the figures in this section has been made from the directory \href{https://github.com/erikfsk/Project-3/tree/master/Project3/mass%20jupitur}{\textcolor{blue}{mass jupitur}}. In this directory there are different directories for the r dependency and a python script to generate graphs. The assignment said to try with mass multiplied with 10 and 1000. It was fun, so we did 10,100,1000 and 1100. Hope you enjoy the results. 

\subsubsection{Fixed mass for jupitur}

For a simulation with jupitur original mass 100000 points over 15 years is sufficient to calculate the orbits of the planets. The figure (\ref{fig:three-body}) is quit smooth and you should not expect to get any major change in the result even with many more points per year. 

\begin{figure}[H]
    \centering
    \includegraphics[width=\linewidth]{result/bilder/jupitur-mass.pdf}
    \caption{Plot of the three body system with Earth, Jupitur and the sun. The graph is discussed in the paragraph above. }
    \label{fig:three-body}
\end{figure}


\subsubsection{Varying mass for jupitur}

For varying mass it is mostly the same as for the original mass. For the mass multiplied with 10 and 100 the orbit is \"normal\" with some slight changes and you should not expect any major differences with higher amount of points per year. For the biggest masses the results vary much more on the number of steps per year. I found a couple of hundred thousand steps in total gave a good approximation. A bit higher step count makes earth disappear and a way bigger step count makes the earth come back to orbit like shown below. This is basicly the best of both worlds. The graphs is few point, so easy for python to plot, and has a pretty good approximation.

\begin{figure}[H]
    \centering
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/jupitur-mass-three.pdf}
    	\caption{}
    \end{subfigure}%
    ~ 
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/jupitur-mass-two.pdf}
        \caption{}
    \end{subfigure}
    \caption{Both plot has the sun as a fixed point. What the graphs represent is discussed above and legend should be pretty self explanatory.}
    \label{fig:three-body-varying}
\end{figure}











\subsection{Solar system}

All the figures in this section was made from the results and python scripts in the directory \href{https://github.com/erikfsk/Project-3/tree/master/Project3/full-solarsystem}{\textcolor{blue}{full-solarsystem}}.

\subsubsection{Three planets and all moving}

\begin{figure}[H]
    \centering
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/all-moving-jupitur.png}
        \caption{}
    \end{subfigure}%
    ~ 
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/all-moving-jupitur-mass-center.png}
        \caption{}
    \end{subfigure}
    \caption{a) Shows the three body system solved with a moving sun. It has a n=$10^5$ and ran for 15 years. If this would be used for any tests I would recommend using more points. To use more points here would be stupid. You can't see the difference. b) is a zoom of the middle part of a). This is for verifying that the sun moves around the center of mass and is not drifting.}
    \label{fig:three-body-moving}
\end{figure}

\subsubsection{Solar system all moving}

\begin{figure}[H]
    \centering
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/all-moving-solarsystem.png}
        \caption{}
    \end{subfigure}%
    ~ 
    \begin{subfigure}{0.5\textwidth}
        \centering
        \includegraphics[width=\linewidth]{result/bilder/all-moving-solarsystem-zoom.png}
        \caption{}
    \end{subfigure}
    \caption{a) Shows the hole solar system solved with a moving sun. It has a n=$10^6$ and ran for 300 years. If this would be used for any tests I would recommend using more points, but this would be stupid for this figure, since you can't see the difference. b) is a zoom of the middle part of a). This is so you can see that they also move in orbits.}
    \label{fig:solarsystem-moving}
\end{figure}



\subsection{The perihelion precession of Mercury}

This has been discussed in section \ref{sec:perihelion}. The figure in this section was made from the results and python script in the directory \href{https://github.com/erikfsk/Project-3/tree/master/Project3/mercury-perihelion}{\textcolor{blue}{mercury-perihelion}}.


\begin{figure}[H]
    \centering
    \includegraphics[width=\linewidth]{result/bilder/perihelion.png}
    \caption{The assignment stated that after 100 years mercury perihelion should move about 43''. From the graphs we can see that it should move about 45''. This is probably duo to numerical inaccuracy. The slope's inaccuracy is proably caused by the numerical solver precision. In other words more points would increase the accuracy. The jumping up and down along the linear curve is probably duo to the computer's accuracy with numbers. This will also improve by more steps, but one of them might stop to improve before the other.}
    \label{fig:perihelion}
\end{figure}






